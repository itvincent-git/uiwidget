<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title> Grid </title>

<link style="text/css" rel="stylesheet" href="css/uiwidget-grid.css"/>
<link style="text/css" rel="stylesheet" href="../menu/css/uiwidget-menu.css"/>
<script type="text/javascript" src="../jquery.min.js"></script>
<script type="text/javascript" src="uiwidget-grid.min.js"></script>
<script type="text/javascript" src="../menu/uiwidget-menu.min.js"></script>
<style type="text/css">

</style>
<script language="JavaScript">
var grid;
$(document).ready(function(){

	grid = $('#grid').grid({
		pageSize : 15
		//,height : 197//显示7行的高度
		,cm : [{checkbox:true}
			,{header: "名称", dataIndex: 'name', width:'50%'}
		 	,{header: "备注", dataIndex: 'remark'}]		
		,data : {"totalCount":5, "result":[{id:"1", name : "张三", remark : "2009-01-01"}
		, {id:"2", name : "甲", remark : "2009-01-22"}, {id:"3", name : "乙", remark : "2009-01-23"}
		, {id:"4", name : "丙", remark : "2009-01-04"}, {id:"5", name : "丁", remark : "2009-01-12"}]}		
		,onRowDblclick : function(e, grid, target){
			alert(grid.getSelections()[0].name);			
		}
		,onRowClick : function(e, grid, target){//单击事件
			//alert(grid.getSelections()[0].id);			
		}
		,beforeRowClick : function(e, grid, rowEl, target){
			//triggerTarget是触发事件时实际的元素
			//alert(e.triggerTarget.tagName);
			//返回false表示不执行默认的事件
			//return false;
		}
		,headerCheckboxClick : function(e, grid){
			alert('headerCheckboxClick');
		}
		,contextMenu : [{text: '修改',icon: 'images/ico-add.gif'
			,handler: function(e){
				var selections = grid.getSelections();
				alert( '修改,选择的ID = ' + selections[0]['id']);
			}}
			,'-'
			,{text: '查看',icon: 'images/ico-add.gif'
				,handler: function(e){
					var selections = grid.getSelections();
					alert( '查看数量 = ' + selections.length);
				}
				,menu:[{text: '查看-1',icon: 'images/ico-add.gif'
					,handler: function(e){
						var selections = grid.getSelections();
						alert( '查看数量-1 = ' + selections.length);
					}}
					,{text: '查看-2',icon: 'images/ico-add.gif'
					,handler: function(e){
						var selections = grid.getSelections();
						alert( '查看数量-2 = ' + selections.length);
					}}]
			}
			]
	});

	grid.bind('rowMouseOver', function(e, grid, rowEl){
		rowEl.css('background', 'red');	
	});
	grid.bind('rowMouseOut', function(e, grid, rowEl){
		rowEl.css('background', 'white');	
	});	
});

</script>
</head>

<body>
<p/><p align="left" style="font-size: large">Grid</p><p/>
<div id="grid" style="width:80%;border:1px solid #ccc"></div>
</body>
</html>
