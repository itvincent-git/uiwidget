;(function(c){c.uiwidget=c.uiwidget||{};c.uiwidget.Navigator=function(a,b){c.extend(this,b);this.navigator=a;this.init();this.render()};c.uiwidget.Navigator.prototype={nav:[],rowNum:0,flowchart:'业务流程图',exit:'退出',init:function(){},render:function(){this.renderHead();this.renderBody();this.renderFooter();this.renderProxy();this.renderGhost();c(this.navigator).addClass('uiwidget-navigator-nav-allmenu').append(this.nav.join(''));var a=c(this.navigator).height();if(this.rowNum<=5){a=180}else if(this.rowNum>=6&&this.rowNum<=7){a=260}else if(this.rowNum>=8&&this.rowNum<=9){a=300}else if(this.rowNum>=10&&this.rowNum<=11){a=410}else{a=460}c(this.navigator).height(a);var b=this.hrefTarget;c("ul.uiwidget-navigator-menu-second").children().click(function(){c('#'+b).attr('src',c(this).attr('href'))});var d=this;c(document).click(function(){d.hide()});c(document).blur(function(){d.hide()});if(document.all){c('#'+b).focus(function(){d.hide()})}},renderHead:function(){this.nav.push('<ul class="uiwidget-navigator-nav-allmenu-top">');this.nav.push('<li class="uiwidget-navigator-left"></li>');this.nav.push('<li class="uiwidget-navigator-center" style="width: 425px;"></li>');this.nav.push('<li class="uiwidget-navigator-right"></li>');this.nav.push('</ul>')},renderBody:function(){this.nav.push('<ul class="uiwidget-navigator-nav-allmenu-middle">');this.nav.push('<li class="uiwidget-navigator-left"></li>');this.nav.push('<li class="uiwidget-navigator-center" style="width: 534px;">');this.nav.push('<div class="uiwidget-navigator-content">');for(var a=0;a<this.data.length;a++){var b=this.data[a];this.nav.push('<div class="uiwidget-navigator-menu-first" title="',b.text,'">',b.text);this.rowNum++;if(b.children.length>0){this.rowNum+=b.children.length%6==0?b.children.length/6:parseInt(b.children.length/6)+1;this.nav.push('<ul class="uiwidget-navigator-menu-second">');for(var d=0;d<b.children.length;d++){var e=b.children[d];this.nav.push('<li href="',e.href,'"><a href="javascript:void(0);" title="',e.text,'">',e.text,'</a></li>');if(d==b.children.length-1)this.nav.push('<br style="clear: left;" />')}this.nav.push('</ul>')}this.nav.push('</div>')}this.nav.push('</div>');this.nav.push('</li>');this.nav.push('<li class="uiwidget-navigator-right"></li>');this.nav.push('</ul>')},renderFooter:function(){this.nav.push('<ul class="uiwidget-navigator-nav-allmenu-footer">');this.nav.push('<li class="uiwidget-navigator-left"></li>');this.nav.push('<li class="uiwidget-navigator-center" style="width: 506px;">');this.nav.push('<div class="uiwidget-navigator-flow-chart">',this.flowchart,'</div>');this.nav.push('<div class="uiwidget-navigator-quit">',this.exit,'</div>');this.nav.push('<div class="uiwidget-navigator-line"></div>');this.nav.push('</li>');this.nav.push('<li class="uiwidget-navigator-right"></li>');this.nav.push('</ul>')},renderProxy:function(){this.nav.push('<iframe src="" frameborder="0" scrolling="no"></iframe>')},renderGhost:function(){this.navigator.after('<div style="border: 1px solid #09759B;display:none;position: absolute; left: 0px; top: 10px;z-index:2009;"></div>')},show:function(){var a=this.navigator.next();var b=this.navigator;var d=0;var e=0;var f=0;var g=0;b.show();var h=b.width();var i=b.height();var j=b.css('top');var k=b.css('left');b.hide();function l(){d+=75;e+=55;f+=3;g+=1;if(d>=h||e>=i){a.width(h);a.height(i);a.css('top',j);a.css('left',k);a.hide();b.show();clearInterval(iIntervalId)}else{a.show();a.width(d);a.height(e);a.css('top',f);a.css('left',g)}}iIntervalId=setInterval(l,5)},hide:function(){var a=this.navigator.next();var b=this.navigator;b.hide();a.show();var d=a.attr('offsetWidth');var e=a.attr('offsetHeight');var f=parseInt(a.css('top'));var g=parseInt(a.css('left'));function h(){d-=75;e-=55;f-=3;g-=1;if(d<=0||e<=0){a.width(0);a.height(0);a.css('top',10);a.css('left',0);a.hide();clearInterval(iIntervalId)}else{a.width(d);a.height(e);a.css('top',f);a.css('left',g)}}iIntervalId=setInterval(h,1)}};c.fn.navigator=function(a){return new c.uiwidget.Navigator(this,a)}})(jQuery);