/**
* Tip 小提示
*
* @author Vincent (zhongyongsheng@ceopen.cn)
* @data 2009-06-08
* @version 1.0.0
*/
;(function(c){c.uiwidget=c.uiwidget||{};c.uiwidget.Tip=function(a,b){if(typeof b=='string'){b={html:b}}c.extend(this,b);this.el=a;this.init()};c.uiwidget.Tip.prototype={showDelay:500,hideDelay:500,init:function(){var b=this;if(this.traceMouse){this.el.mousemove(function(a){b.showAt(a.clientX,a.clientY)})}else{this.el.mouseover(function(a){b.showAt(a.clientX,a.clientY)})}this.el.mouseleave(function(a){b.hide()})},showAt:function(a,b){if(!this.tip){this.render()}this.tip.css('left',a+10);this.tip.css('top',b+10);this.show()},isVisible:function(){return this.tip&&this.tip.is(':visible')},show:function(){clearTimeout(this.hideTimer);delete this.hideTimer;if(this.tip&&!this.isVisible()){if(!this.showTimer){this.showTimer=c.defer(this.deferShow,this.showDelay,this)}}},deferShow:function(){delete this.showTimer;this.tip.show()},hide:function(a){clearTimeout(this.showTimer);delete this.showTimer;if(this.tip&&this.isVisible()){if(!this.hideTimer){this.hideTimer=c.defer(this.deferHide,this.hideDelay,this)}}},deferHide:function(){delete this.hideTimer;this.tip.hide()},render:function(){c(document.body).append(this.tip=c('<div class="tip"></div>'));if(this.html){this.tip.html(this.html)}if(this.width){this.tip.width(this.width)}if(this.height){this.tip.height(this.height)}}};c.fn.tip=function(a){return new c.uiwidget.Tip(this,a)};c.createDelegate=function(f,g,e,d){return function(){var a=e||arguments;if(d===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(e)}else if(typeof d=="number"){a=Array.prototype.slice.call(arguments,0);var b=[d,0].concat(e);Array.prototype.splice.apply(a,b)}return f.apply(g||window,a)}};c.defer=function(a,b,f,g,e){var d=c.createDelegate(a,f,g,e);if(b){return setTimeout(d,b)}d();return 0}})(jQuery);